<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax</title>
</head>
<body>
        <button id="btn" type="button">Make a Request</button>

        <script>
            var httpRequest;
            document.getElementById("btn").addEventListener('click', makeRequest);

            function makeRequest() {
                httpRequest = new XMLHttpRequest();                     //new xhr对象

                if (!httpRequest) {
                    alert('Giving up :( Cannot create an XMLHTTP instance');
                    return false;
                }
                httpRequest.onreadystatechange = alertContents;         //编写http响应处理函数 (onreadystatechange属性)
                httpRequest.open('GET', '/ajax/test.php');                   //发送请求,第三个参数 true表示异步请求 false表示同步请求
                httpRequest.send();
            }

            function alertContents() {
                if (httpRequest.readyState === XMLHttpRequest.DONE) {
                    if (httpRequest.status === 200) {
                        alert(httpRequest.responseText);
                    } else {
                        alert('There was a problem with the request.');
                    }
                }
            }

        </script>
</body>
</html>